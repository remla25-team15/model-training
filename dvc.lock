schema: '2.0'
stages:
  get_data:
    cmd: python src/get_data.py --output_dir datasets
    deps:
    - path: src/get_data.py
      hash: md5
      md5: 44a3470236b2132e182b2b1616bb27a6
      size: 1886
    outs:
    - path: datasets/
      hash: md5
      md5: 706d6ab9d8fddff5a47d00b0f65208b8.dir
      size: 61190
      nfiles: 2
  preprocess:
    cmd: python src/prepare_data.py --output_dir data/ --dataset datasets/a1_RestaurantReviews_HistoricDump.tsv
      --bow_dir output/
    deps:
    - path: src/prepare_data.py
      hash: md5
      md5: fe6779847ddfe352733370ec43d0d8ce
      size: 1468
    outs:
    - path: data/X.npy
      hash: md5
      md5: f10f362d41996fd6bc87cb2b8780be29
      size: 10231328
    - path: data/y.npy
      hash: md5
      md5: b80a2d74a94a02652bf37dcc4a2bba6d
      size: 7328
    - path: output/c1_BoW_Sentiment_Model.pkl
      hash: md5
      md5: 45ca2ac2b6a935943a5cf45179f74544
      size: 39718
  train_model:
    cmd: python src/train.py --data data/X.npy --labels data/y.npy --output output/
      --split_output_dir data/split --train_metrics_output metrics/train.json
    deps:
    - path: data/X.npy
      hash: md5
      md5: f10f362d41996fd6bc87cb2b8780be29
      size: 10231328
    - path: data/y.npy
      hash: md5
      md5: b80a2d74a94a02652bf37dcc4a2bba6d
      size: 7328
    - path: src/train.py
      hash: md5
      md5: bae098e95fe1f8c8ca20c31440b3f548
      size: 2595
    outs:
    - path: data/split/X_test.npy
      hash: md5
      md5: 16c66a2eb3e877234b1b9aa15b6b3aa3
      size: 2046368
    - path: data/split/y_test.npy
      hash: md5
      md5: a2a49dc0a7d720f205b1babec864aa6a
      size: 1568
    - path: metrics/train.json
      hash: md5
      md5: 5f07bca36ed344721822c800b248665f
      size: 42
    - path: output/c2_Classifier_Sentiment_Model.pkl
      hash: md5
      md5: d1efe821809be433279a0958bb7313f9
      size: 46247
  evaluate:
    cmd: python src/evaluate.py --X_test data/split/X_test.npy --y_test data/split/y_test.npy
      --model output/c2_Classifier_Sentiment_Model.pkl --metrics_output metrics/eval.json
    deps:
    - path: data/split/X_test.npy
      hash: md5
      md5: 16c66a2eb3e877234b1b9aa15b6b3aa3
      size: 2046368
    - path: data/split/y_test.npy
      hash: md5
      md5: a2a49dc0a7d720f205b1babec864aa6a
      size: 1568
    - path: output/c2_Classifier_Sentiment_Model.pkl
      hash: md5
      md5: d1efe821809be433279a0958bb7313f9
      size: 46247
    - path: src/evaluate.py
      hash: md5
      md5: a58aab7a272a114154cd5dbe5fc07cb5
      size: 1176
    outs:
    - path: metrics/eval.json
      hash: md5
      md5: 772ee529212b997a10002cac767d443a
      size: 128
